spring:
  application:
    name: notification-service

  datasource:
    url: ${SPRING_DATASOURCE_URL:jdbc:mysql://mysql:3306/notification_service}
    username: ${SPRING_DATASOURCE_USERNAME:akshat}
    password: ${SPRING_DATASOURCE_PASSWORD:password}

  jpa:
    hibernate:
      ddl-auto: none # âœ… SINGLE source of truth
    open-in-view: false
    properties:
      hibernate:
        jdbc:
          time_zone: UTC

  flyway:
    enabled: true

  mail:
    host: smtp.example.com
    port: 587
    username: user
    password: password
    properties:
      mail:
        smtp:
          auth: true
          starttls:
            enable: true

kafka:
  bootstrap-servers: ${KAFKA_BOOTSTRAP_SERVERS:kafka:9092}
  consumer:
    group-id: notification-service
    auto-offset-reset: earliest
  topics:
    subscription-created: subscription.created
    subscription-updated: subscription.updated
    subscription-renewal-upcoming: subscription.renewal.upcoming
    alert-overspend: alert.overspend

notifications:
  scheduler:
    cron: "0 0 9 * * ?"
  email:
    from: "no-reply@subtrack.local"
    retry:
      attempts: 3
      backoff-ms: 500

management:
  endpoints:
    web:
      exposure:
        include: health,info

logging:
  level:
    com.subtrack.notification_service: INFO

server:
  port: ${SERVER_PORT:8084}
